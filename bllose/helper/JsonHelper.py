import json

def deep_clean_null(target) -> object:
    """
    深度清理json报文中值为null的字段
    """
    if isinstance(target, dict):
        return {k: deep_clean_null(v) for k, v in target.items() if v is not None}
    elif isinstance(target, list):
        return [deep_clean_null(item) for item in target if item is not None and len(item) > 0]
    else :
        return target
    
if __name__ == '__main__':
    target = '{"code":0,"message":"成功","data":{"signFlowInitiator":{"psnInitiator":null,"orgInitiator":{"orgId":"4018df5803c64130aa215283ed243e75","orgName":"惠州TCL光伏科技有限公司","transactor":null}},"signFlowConfig":{"signFlowTitle":"户用光伏业务经销协议（2025版）","contractGroupIds":[],"autoFinish":true,"signFlowExpireTime":1742468739000,"notifyUrl":"https://callback1-pv.tcl.com/api/app/contract/unify/signed/callback/eqb","chargeConfig":{"chargeMode":0,"orderType":null,"barrierCode":null},"noticeConfig":null,"signConfig":{"availableSignClientTypes":"1,2","showBatchDropSealButton":true,"signTipsTitle":null,"signTipsContent":null,"signMode":"NORMAL","dedicatedCloudId":null},"authConfig":null},"signFlowStatus":2,"rescissionStatus":0,"revokeReason":null,"signFlowCreateTime":1734692739621,"signFlowStartTime":1734692740000,"signFlowFinishTime":1734692923000,"signFlowDescription":"完成","docs":[{"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","fileName":"户用光伏业务经销协议（2025版）","fileEditPwd":"","contractNum":"ESIGN20241220zyc9l0m7","contractBizTypeId":null}],"attachments":[],"signers":[{"psnSigner":null,"orgSigner":{"orgId":"96b8cfff20e44979ae4f7bfd0bfa68bf","orgName":"乐山鑫旭达新能源有限公司","transactor":{"psnId":"11ad625971cd4df1aa18a118b6c835c7","psnName":"李红卫","psnAccount":{"accountMobile":"15137812676","accountEmail":null}}},"signerType":1,"signOrder":1,"signStatus":2,"signTaskType":0,"uploadFiles":[],"signFields":[{"signFieldId":"f85621c701144a7c84c50fe3c2cc3d01","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692923000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":1,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"1","positionX":425.935,"positionY":368.91202},"movableSignField":false,"autoSign":false,"sealStyle":null,"sealId":"2b8820ed-cab3-4f67-a397-7405b3e523ff","sealOwnerId":"96b8cfff20e44979ae4f7bfd0bfa68bf"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"f031ef37970e410fa7c0be4af226a979","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692923000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":1,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"19","positionX":347.12054,"positionY":692.6402},"movableSignField":false,"autoSign":false,"sealStyle":null,"sealId":"2b8820ed-cab3-4f67-a397-7405b3e523ff","sealOwnerId":"96b8cfff20e44979ae4f7bfd0bfa68bf"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"1e59f766e80c4c639f7e24ddce416037","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692923000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":1,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"25","positionX":346.3712,"positionY":619.19977},"movableSignField":false,"autoSign":false,"sealStyle":null,"sealId":"2b8820ed-cab3-4f67-a397-7405b3e523ff","sealOwnerId":"96b8cfff20e44979ae4f7bfd0bfa68bf"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"4efc2997a99e4da59b1369f41dbe01bb","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692923000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":2,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"19","positionX":305.49786,"positionY":563.96063},"movableSignField":false,"autoSign":false,"sealStyle":null,"sealId":"a5959a9e-e427-4d97-8923-8eba03b1994b","sealOwnerId":"96b8cfff20e44979ae4f7bfd0bfa68bf"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"947b8b66f5474230af685259d3e80d4b","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692923000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":2,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"25","positionX":365.7426,"positionY":468.0587},"movableSignField":false,"autoSign":false,"sealStyle":null,"sealId":"a5959a9e-e427-4d97-8923-8eba03b1994b","sealOwnerId":"96b8cfff20e44979ae4f7bfd0bfa68bf"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null}]},{"psnSigner":null,"orgSigner":{"orgId":"4018df5803c64130aa215283ed243e75","orgName":"惠州TCL光伏科技有限公司","transactor":null},"signerType":1,"signOrder":1,"signStatus":2,"signTaskType":0,"uploadFiles":[],"signFields":[{"signFieldId":"d184bb5073d043548229719b0ef1055d","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692742000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":1,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"1","positionX":164.8029,"positionY":368.91202},"movableSignField":false,"autoSign":true,"sealStyle":null,"sealId":"c1d5b657-9ac3-4063-9db7-7e6ea8fe0a10","sealOwnerId":"4018df5803c64130aa215283ed243e75"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"6cdb8014f5084a6d9a17d5d4fa9fc18f","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692742000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":1,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"19","positionX":127.06331,"positionY":692.6402},"movableSignField":false,"autoSign":true,"sealStyle":null,"sealId":"c1d5b657-9ac3-4063-9db7-7e6ea8fe0a10","sealOwnerId":"4018df5803c64130aa215283ed243e75"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"dc8483cf76fc476d8d134335339386c3","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692742000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":1,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"25","positionX":141.04375,"positionY":619.19977},"movableSignField":false,"autoSign":true,"sealStyle":null,"sealId":"c1d5b657-9ac3-4063-9db7-7e6ea8fe0a10","sealOwnerId":"4018df5803c64130aa215283ed243e75"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"c9b14d312ecb4c0b967f46c9f59d0435","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692742000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":1,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":2,"signFieldPosition":{"positionPage":"1-42","positionX":0.0,"positionY":400.0},"movableSignField":false,"autoSign":true,"sealStyle":null,"sealId":"c1d5b657-9ac3-4063-9db7-7e6ea8fe0a10","sealOwnerId":"4018df5803c64130aa215283ed243e75"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"fca2e70c69a749dc961d707232ca5678","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692743000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":1,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"1","positionX":164.8029,"positionY":368.91202},"movableSignField":false,"autoSign":true,"sealStyle":null,"sealId":"c1d5b657-9ac3-4063-9db7-7e6ea8fe0a10","sealOwnerId":"4018df5803c64130aa215283ed243e75"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"e200d5ca0bf842c481a1cf7e26303466","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692743000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":1,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"19","positionX":127.06331,"positionY":692.6402},"movableSignField":false,"autoSign":true,"sealStyle":null,"sealId":"c1d5b657-9ac3-4063-9db7-7e6ea8fe0a10","sealOwnerId":"4018df5803c64130aa215283ed243e75"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"5c81e666a1d6432fae55c229cb3c7cd5","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692743000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":1,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"25","positionX":141.04375,"positionY":619.19977},"movableSignField":false,"autoSign":true,"sealStyle":null,"sealId":"c1d5b657-9ac3-4063-9db7-7e6ea8fe0a10","sealOwnerId":"4018df5803c64130aa215283ed243e75"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"ba122d3cc7fc4d72a0f83d358f6f5f43","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692743000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":1,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":2,"signFieldPosition":{"positionPage":"1-42","positionX":0.0,"positionY":400.0},"movableSignField":false,"autoSign":true,"sealStyle":null,"sealId":"c1d5b657-9ac3-4063-9db7-7e6ea8fe0a10","sealOwnerId":"4018df5803c64130aa215283ed243e75"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"36f6989c0b42444ab6aa6b601f5d4257","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692743000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":2,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"19","positionX":99.329636,"positionY":564.0328},"movableSignField":false,"autoSign":true,"sealStyle":null,"sealId":"6c4aae83-50aa-463b-8668-a7936d43f447","sealOwnerId":"4018df5803c64130aa215283ed243e75"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null},{"signFieldId":"9487ae7ebc3c47a0b4b90c7629ae68ba","signFieldStatus":"4","sealApprovalFlowId":null,"statusUpdateTime":1734692743000,"failReason":null,"customBizNum":null,"fileId":"9c4f2b11689a4e00b8dc9dbd3d7bd56e","signFieldType":0,"mustSign":true,"signFieldSealType":2,"normalSignFieldConfig":{"freeMode":false,"signFieldStyle":1,"signFieldPosition":{"positionPage":"25","positionX":95.2081,"positionY":480.79892},"movableSignField":false,"autoSign":true,"sealStyle":null,"sealId":"6c4aae83-50aa-463b-8668-a7936d43f447","sealOwnerId":"4018df5803c64130aa215283ed243e75"},"remarkSignFieldConfig":null,"dateSignFieldConfig":null}]}],"copiers":[],"rescissionSignFlowIds":[]}}'
    targetJson = json.loads(target)
    print(json.dumps(deep_clean_null(target=targetJson), ensure_ascii=False))